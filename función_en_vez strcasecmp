void normalizar_minusculas(char* str) {
    for (int i = 0; str[i] != '\0'; i++) {
        str[i] = tolower((unsigned char)str[i]);
    }
}

void ingresarJugadores(tLista* pl)
{
    tJugador jugador;
    int cantidad = 0;
    printf("Ingresar Nombres (termina con FIN/fin):\n");

    // Usamos fgets para leer el nombre
    fgets(jugador.nombre, sizeof(jugador.nombre), stdin);
    jugador.nombre[strcspn(jugador.nombre, "\n")] = '\0';  // Eliminar salto de línea

    jugador.puntaje = 0;

    // Convertir el nombre ingresado a minúsculas
    normalizar_minusculas(jugador.nombre);

    // Mientras el jugador no ingrese "FIN" o "fin"
    while (strcmp(jugador.nombre, "fin") != 0)  // Comparar con "fin" en minúsculas
    {
        listaInsertarEnPosAleatoria(pl, cantidad, &jugador, sizeof(jugador));
        cantidad++;

        // Volver a leer el siguiente nombre
        fgets(jugador.nombre, sizeof(jugador.nombre), stdin);
        jugador.nombre[strcspn(jugador.nombre, "\n")] = '\0';  // Eliminar salto de línea

        // Convertir el nombre a minúsculas antes de la comparación
        normalizar_minusculas(jugador.nombre);

        jugador.puntaje = 0;
    }

    system("cls");
}
